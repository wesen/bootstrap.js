<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Search Service Tool</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="css/bootstrap-responsive.css" rel="stylesheet">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
    </div>

    <div class="container" id="main">
    </div>

    <script id="alert-template" type="text/x-handlebars-template">
      <div class="alert {{class}} {{#if type}}alert-{{type}}{{/if}}">
        {{#unless popup}}<a class="close" data-dismiss="alert">Ã—</a>{{/unless}}
        {{#if title}}<strong>{{title}}</strong>{{/if}}
        {{message}}
      </div>
    </script>

    <script id="navigation-template" type="text/x-handlebars-template">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Search Service</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </script>
    
    <script id="main-template" type="text/x-handlebars-template">
      <div class="row show-grid">
        <div class="span4">
          <div id="searchView">
          </div>
          <div id="filterView">
          </div>
        </div>
        <div class="span8">
          <div class="row">
            <div id="filterListView" class="span8">
            </div>
          </div>
          <div class="row">
            <div id="resultView" class="span8">
            </div>
          </div>
        </div>
      </div>
    </script>
    
    <script id="search-template" type="text/x-handlebars-template">
      <form class="form-search well">
        <fieldset>
          <div class="control-group">
            <input placeholder="Search..." type="text" name="search_string" class="search-query input-large" value="{{search_string}}"/>
          </div>
          <div class="control-group">
            <select name="searcher">
              {{#each searchers}}
              <option data-searcher-url="{{url}}" {{#if selected}}selected="selected"{{/if}}>{{name}}</option>
              {{/each}}
            </select>
          </div>
          <div class="control-group">
            <input type="submit" style="width: 240px" class="btn btn-primary" name="search" value="Search!" data-loading-text="Searching..."/>
          </div>
          <hr/>
          <div>
            <div class="control-group">
              <div class="btn-group"  data-toggle="buttons-checkbox">
                <a rel="tooltip" title="search for products"
                        name="output_product" class="btn {{#if output_product}}active{{/if}}">product</a>
                <a rel="tooltip" title="search for offers"
                        name="output_offer" class="btn {{#if output_offer}}active{{/if}}">offer</a>
              </div>
            </div>
            <div class="control-group">
              <div class="btn-group"  data-toggle="buttons-checkbox">
                <a rel="tooltip" title="search for categories"
                   name="output_category" class="btn {{#if output_category}}active{{/if}}">category</a>
                <a rel="tooltip" title="search for theme pages"
                   name="output_theme_page" class="btn {{#if output_theme_page}}active{{/if}}">theme page</a>
                <a rel="tooltip" title="search for product variants"
                   name="output_product_variant" class="btn {{#if output_product_variant}}active{{/if}}">product variant</a>
              </div>
            </div>
            <div class="control-group">
              <div class="btn-group" data-toggle="buttons-checkbox">
                <a rel="tooltip" title="das hab ich immer noch nicht gerafft"
                        name="collect_filters" class="btn {{#if collect_filters}}active{{/if}}">filters
                </a>
                <a rel="tooltip" title="das auch nicht"
                        name="collect_filter_keys" class="btn {{#if collect_filter_keys}}active{{/if}}">filter keys
                </a>
              </div>
            </div>
            <div class="control-group">
              <div class="btn-group" data-toggle="buttons-checkbox">
                <a rel="tooltip" title="enable shop diversification"
                        name="shopdiv" class="btn {{#if shopdiv}}active{{/if}}">shopdiv
                </a>
              </div>
            </div>
          </div>
        </fieldset>
      </form>
      <div class="progress progress-striped">
        <div class="bar"
             style="width: 0%;"></div>
      </div>
    </script>

    <script id="filter-list-template" type="text/x-handlebars-template">
      <div class="btn-group">
      {{#each selectedFilters}}
      <a class="filter btn" style="margin-bottom: 5px" data-filter-id="{{key}}" data-value-id="{{value}}">{{key}}: {{value}}</a>
      {{/each}}
      </div>
    </script>
    
    <script id="filters-template" type="text/x-handlebars-template">
      <h2>Filters</h2>
      <ul class="nav nav-list">
      {{#each filters}}
        <li class="nav-header">{{key}} ({{count}})</li>
        {{#each values}}
        <li {{#if selected}}class="active"{{/if}}><a data-filter-id="{{../key}}" data-value-id="{{value}}" class="filter" href="#">{{value}}
        ({{count}})</a></li>
        {{/each}}
        {{#if truncated}}
        <li>...</li>
        {{/if}}
      {{/each}}
      </ul>
    </script>

    <script id="results-template" type="text/x-handlebars-template">
      <div class="row">
        <div class="span8">
          <div class="page-header">
            <h1>Results</h1>
          </div>

          {{#if total_hits}}
          Total hits: {{total_hits}}
          <table class="table table-bordered table-striped">
            <thead>
            <tr>
              <th>type</th>
              <th>id</th>
              <th>score</th>
            </tr>
            </thead>
            <tbody>
            {{#each hits}}
            <tr>
              <td>{{type}}</td>
              <td>{{id}}</td>
              <td>{{score}}</td>

            </tr>
            {{/each}}
            </tbody>
          </table>
          {{else}}
          No search hits.
          {{/if}}

        </div>
      </div>
    </script>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/vendor/jquery-1.7.1.js"></script>
    <script src="js/vendor/underscore.js"></script>
    <script src="js/vendor/backbone.js"></script>
    <script src="js/vendor/json2.js"></script>
    <script src="js/vendor/handlebars.js"></script>
    <script src="js/vendor/backbone.marionette.js"></script>
    <script src="js/vendor/bootstrap-transition.js"></script>
    <script src="js/vendor/bootstrap-alert.js"></script>
    <script src="js/vendor/bootstrap-modal.js"></script>
    <script src="js/vendor/bootstrap-dropdown.js"></script>
    <script src="js/vendor/bootstrap-scrollspy.js"></script>
    <script src="js/vendor/bootstrap-tab.js"></script>
    <script src="js/vendor/bootstrap-tooltip.js"></script>
    <script src="js/vendor/bootstrap-popover.js"></script>
    <script src="js/vendor/bootstrap-button.js"></script>
    <script src="js/vendor/bootstrap-collapse.js"></script>
    <script src="js/vendor/bootstrap-carousel.js"></script>
    <script src="js/vendor/bootstrap-typeahead.js"></script>

    <script src="js/vendor/require.js" data-main="js/main"></script>

  </body>
</html>
